<ion-header>
  <ion-toolbar>
    <ion-title>Favoris</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div style="padding:1rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1rem;">
    <div *ngFor="let p of favs" style="border:1px solid #e5e7eb;border-radius:.8rem;overflow:hidden;background:white;">
      <img [src]="p.webviewPath" alt="" style="width:100%;aspect-ratio:1/1;object-fit:cover;cursor:pointer;" (click)="open(p)">
      <div style="padding:.6rem .8rem;display:flex;justify-content:space-between;align-items:center;">
        <button (click)="toggle(p)" style="border:none;background:transparent;cursor:pointer;font-weight:600;display:flex;align-items:center;gap:.35rem;">
          <span style="color:#ef4444">❤</span>
          <span>{{ p.likes }}</span>
        </button>
        <small style="color:#6b7280">{{ when(p.createdAt) }}</small>
      </div>
    </div>
  </div>

  <div *ngIf="!favs.length" style="padding:2rem;text-align:center;color:#9ca3af;">
    Aucun favori pour le moment. Mets des ❤️ dans la galerie !
  </div>

  <div *ngIf="selected" (click)="close()" style="position:fixed;inset:0;background:rgba(0,0,0,.9);display:flex;align-items:center;justify-content:center;z-index:9999;">
    <img [src]="selected.webviewPath" alt="" style="max-width:96vw;max-height:90vh;object-fit:contain;border-radius:.75rem;box-shadow:0 10px 30px rgba(0,0,0,.5);">
    <button (click)="close()" style="position:absolute;top:16px;right:16px;background:#111827;color:#fff;border:none;border-radius:.75rem;padding:.5rem .8rem;cursor:pointer;">
      Fermer
    </button>
  </div>
</ion-content>
